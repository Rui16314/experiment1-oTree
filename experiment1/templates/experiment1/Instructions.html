{% load otree %}
{% extends "experiment1/BaseAuction.html" %}

{% block page_title %}Instructions{% endblock %}

{% block page_body %}
  <div class="callout">
    <h3>GENERAL INSTRUCTIONS</h3>
    <p>Welcome to the ECON 3310 Experiment Platform.</p>
    <p>The experiment has two parts, each with three sessions. In each session you will play
      <strong>{{ ROUNDS_PER_SESSION }}</strong> rounds of an auction game (60 rounds total).
      Each round takes about 1 minute.</p>
    <p>In every round you privately receive a valuation drawn independently and uniformly between
      0 and 100 (in cents). With probability 1/10,000 your valuation will be <em>0.01·n</em> where
      <em>n</em> is uniformly chosen from 0–10,000.</p>
    <p>After learning your valuation, you have <strong>1 minute</strong> to submit your bid. If you do
      not submit in time, the system enters an automatic bid as described below for this session.</p>
    <p>At the end of each round you learn whether you won, the winning bid (price), and your points.</p>
  </div>

  <h3>
    SESSION {{ session_no }}:
    {% if price_rule == 'first' %}FIRST-PRICE{% else %}SECOND-PRICE{% endif %}
    SEALED-BID AUCTION
    {% if matching == 'fixed' %}(repeated){% endif %}
    {% if chat %} with communication{% endif %}
  </h3>

  <div class="callout">
    <p>
      Matching:
      <strong>
        {% if matching == 'random' %}random{% else %}fixed (same opponent for all {{ ROUNDS_PER_SESSION }} rounds){% endif %}
      </strong>.
      Bids are simultaneous and private each round.
    </p>

    {% if price_rule == 'first' %}
      <ul>
        <li><strong>Price rule:</strong> <em>first-price</em> — the winner pays <strong>their own bid</strong>.</li>
        <li><strong>If you do not bid in time:</strong> the system submits an automatic bid equal to
          <strong>v/2</strong>, where <em>v</em> is your valuation. If this automatic bid is the highest
          bid in the group, <strong>both players receive 0 payoff</strong> for the round.</li>
        <li><strong>Your payoff if you win:</strong> <code>valuation − your bid</code>. If you lose: <code>0</code>.</li>
      </ul>
    {% else %}
      <ul>
        <li><strong>Price rule:</strong> <em>second-price</em> — the winner pays <strong>the other player’s bid</strong>.</li>
        <li><strong>If you do not bid in time:</strong> the system submits an automatic bid equal to
          <strong>v</strong>, where <em>v</em> is your valuation. If this automatic bid is the highest
          bid in the group, <strong>both players receive 0 payoff</strong> for the round.</li>
        <li><strong>Your payoff if you win:</strong> <code>valuation − price</code>, where
          <code>price = opponent’s bid</code>. If you lose: <code>0</code>.</li>
      </ul>
    {% endif %}

    <ul>
      <li><strong>Time limit:</strong> 1 minute to submit your bid.</li>
      <li><strong>Ties:</strong> broken at random unless specified otherwise by the session config.</li>
      {% if chat %}
        <li><strong>Communication:</strong> You may chat with your opponent before submitting bids. Do not reveal your identity.</li>
      {% endif %}
    </ul>
  </div>

  <div class="mt-3">
    {% next_button %}
  </div>
{% endblock %}

